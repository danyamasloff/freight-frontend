# Планировщик маршрутов - Route Planner

## Описание

Новая страница планировщика маршрутов (`/routes/planner`) предоставляет расширенные возможности для планирования грузоперевозок с учетом погодных условий и анализом рисков.

## Основные возможности

### 1. Планирование маршрута по названиям

- Ввод начальной и конечной точки по названию города/адреса
- Автоматическое геокодирование через backend API
- Поддержка различных типов транспорта (грузовик, фургон, легковой)

### 2. Интеграция с погодными сервисами

- Получение актуальной погоды через OpenWeatherMap API
- Прогноз погоды на всём маршруте
- Оценка погодных рисков
- Визуализация погодных условий

### 3. Экономический анализ

- Расчет расхода топлива
- Оценка стоимости перевозки
- Стоимость за километр
- Общие затраты на маршрут

### 4. Анализ рисков

- Общий риск маршрута
- Погодные риски
- Риски состояния дорог
- Риски плотности трафика
- Визуальные индикаторы уровня риска

### 5. Визуализация на карте

- Отображение маршрута на Яндекс.Картах
- Маркеры начальной и конечной точек
- Автоматическое центрирование и масштабирование

## Использование

1. Перейдите на страницу `/routes/planner`
2. Введите начальную точку (например: "Москва")
3. Введите конечную точку (например: "Санкт-Петербург")
4. Выберите тип транспорта
5. Укажите время отправления
6. Нажмите "Рассчитать маршрут"

## API Endpoints

Страница использует следующие API endpoints:

- `GET /api/routes/plan-by-name` - Планирование маршрута по названиям
- `POST /api/routes/weather-forecast` - Получение прогноза погоды для маршрута

## Стилизация

Страница использует стили Claude из `index.css`:

- `.claude-card` - стилизованные карточки с hover эффектами
- `.interactive-button-claude` - кнопки с градиентом и анимацией
- Градиенты в стиле Claude для заголовков и акцентов
- Адаптивный дизайн для мобильных устройств

## Технологии

- React с TypeScript
- Redux Toolkit для управления состоянием
- RTK Query для API запросов
- Яндекс.Карты для визуализации
- Tailwind CSS для стилизации
- Lucide React для иконок

## Примеры маршрутов для тестирования

1. **Москва - Санкт-Петербург**

    - Расстояние: ~700 км
    - Время: ~10 часов
    - Хороший маршрут для демонстрации

2. **Казань - Нижний Новгород**

    - Расстояние: ~400 км
    - Время: ~6 часов
    - Средний маршрут

3. **Екатеринбург - Челябинск**
    - Расстояние: ~200 км
    - Время: ~3 часа
    - Короткий маршрут

## Требования

Для работы планировщика необходимо:

1. Запущенный backend на `http://localhost:8080`
2. Настроенный API ключ Яндекс.Карт в `.env`
3. Настроенный OpenWeatherMap API ключ в backend

## Возможные улучшения

1. Добавление промежуточных точек
2. Сохранение избранных маршрутов
3. Экспорт маршрута в различные форматы
4. Интеграция с системой уведомлений
5. Расчет альтернативных маршрутов
